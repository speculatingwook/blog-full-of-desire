{
  "title": "[ Spring Sequrity ] 스프링 시큐리티(Spring security) 정리",
  "date": "2023-06-28T00:00:00.000Z",
  "tags": ["spring", "spring_security"],
  "draft": false,
  "summary": "스프링 시큐리티 다시 보기",
  "body": {
    "raw": "\n## 기본 개념\n\n[인증과 인가](/blog/java/spring-security/인증과_인가)\n\n## Spring Security란?\n\nSpring Security는 Spring 기반의 애플리케이션의 보안(인증과 권한, 인가 등)을 담당하는 스프링 하위 프레임워크이다. Spring Security는 '인증'과 '권한'에 대한 부분을 Filter 흐름에 따라 처리하고 있다.\n\nFilter는 Dispatcher Servlet으로 가기 전에 적용되므로 가장 먼저 URL 요청을 받지만, Interceptor는 Dispatcher와 Controller사이에 위치한다는 점에서 적용 시기의 차이가 있다.\n\nSpring Security는 보안과 관련해서 체계적으로 많은 옵션을 제공해주기 때문에 개발자 입장에서는 일일이 보안관련 로직을 작성하지 않아도 된다는 장점이 있다.\n\n이러한 Spring Security의 아키텍쳐는 아래와 같다.\n\n## 스프링 시큐리티의 특징\n\n1. 서블릿 API 통합\n2. Spring Web MVC와의 선택적 통합\n3. 인증과 권한 부여를 모두 포괄적이고 확장 가능한 지원\n4. 세션 고정, clickjacking, 사이트 간 요청 위조 등과 같은 공격으로부터 보호\n\n## 스프링 시큐리티가 요청을 처리하는 방식\n\n<p align=\"center\">\n    <img alt=\"image\" width=\"600\" src=\"https://github.com/speculatingwook/blog-full-of-desire/assets/105579811/a8a0c6aa-700d-48f8-b617-e97167219e45\"/>\n</p>\n\n스프링 시큐리티는 서블릿 필터체인을 자동으로 구성하고 요청을 거치게 한다.\n\n<p align=\"center\">\n    <img width=\"882\" alt=\"image\" src=\"https://user-images.githubusercontent.com/105579811/236806863-291c52fc-7810-4b4d-9573-6371cb1b8dc3.png\"/>\n</p>\n\n1. 유저 로그인 시도 -->`AuthenticationFilter`가 `Http servlet Request`에서 사용자가 보낸 정보를 intercept한다.\n2. 인증용 객체인 `UsernamePasswordAuthenticationToken`을 생성한다.\n3. `UsernamePasswordAuthenticationToken`을 `AuthenticationManager interface`에 위임을 하게 된다. 만약 성공한다면 `Authentication` 객체를 반환한다.\n4. 반환한 `Authentication` 객체를 `AuthenticationProvider`에게 전달한다.\n5. `Authentication` 객체를 `UserDetailsService`에 전달한다.\n6. `UserDetailsService`는 만약 `Authentication`을 가지로 DB에 있는 User임을 하게 된다면, `UserDetails`에서 `User`를 꺼내서 유저 세션을 생성하게 된다.\n7. 가져온 `UserDetails`를 Spring Sequrity의 인메모리 세션 저장소인 `SecurityContextHolder`에 저장을 한다.\n8. 이후, 유저 세션ID와 함께 응답을 보내게 된다.\n\n### `AutenticationManager`의 구조\n\n<p align=\"center\">\n    <img alt=\"image\" width=\"600\" src=\"https://github.com/speculatingwook/blog-full-of-desire/assets/105579811/6581065e-c03d-45c3-af42-f527f4ed9c87\"/>\n</p>\n\n### Security Context Holder\n\nSecurityContextHolder는 보안 주체의 세부 정보를 포함하여 응용프래그램의 현재 보안 컨텍스트에 대한 세부 정보가 저장된다. `SecurityContextHolder는 기본적으로 SecurityContextHolder.MODE_INHERITABLETHREADLOCAL` 방법과 `SecurityContextHolder.MODE_THREADLOCAL` 방법을 제공한다.\n\n### Security Context\n\nAuthentication을 보관하는 역할을 하며, SecurityContext를 통해 Authentication 객체를 꺼내올 수 있다.\n\n### Authentication\n\nAuthentication는 현재 접근하는 주체의 정보와 권한을 담는 인터페이스이다. Authentication 객체는 Security Context에 저장되며, SecurityContextHolder를 통해 SecurityContext에 접근하고, SecurityContext를 통해 Authentication에 접근할 수 있다.\n\n```java\npublic interface Authentication extends Principal, Serializable {\n    // 현재 사용자의 권한 목록을 가져옴\n    Collection<? extends GrantedAuthority> getAuthorities();\n\n    // credentials(주로 비밀번호)을 가져옴\n    Object getCredentials();\n\n    Object getDetails();\n\n    // Principal 객체를 가져옴.\n    Object getPrincipal();\n\n    // 인증 여부를 가져옴\n    boolean isAuthenticated();\n\n    // 인증 여부를 설정함\n    void setAuthenticated(boolean isAuthenticated) throws IllegalArgumentException;\n}\n```\n\n### UserNameAuthenticationToken\n\nUsernamePasswordAuthenticationToken은 Authentication을 implements한 AbstractAuthenticationToken의 하위 클래스로, User의 ID가 Principal 역할을 하고, Password가 Credential의 역할을 한다. UsernamePasswordAuthenticationToken의 첫 번째 생성자는 인증 전의 객체를 생성하고, 두번째 생성자는 인증이 완료된 객체를 생성한다.\n\n```java\npublic class UsernamePasswordAuthenticationToken extends AbstractAuthenticationToken {\n    // 주로 사용자의 ID에 해당함\n    private final Object principal;\n    // 주로 사용자의 PW에 해당함\n    private Object credentials;\n\n    // 인증 완료 전의 객체 생성\n    public UsernamePasswordAuthenticationToken(Object principal, Object credentials) {\n\t\tsuper(null);\n\t\tthis.principal = principal;\n\t\tthis.credentials = credentials;\n\t\tsetAuthenticated(false);\n\t}\n\n    // 인증 완료 후의 객체 생성\n    public UsernamePasswordAuthenticationToken(Object principal, Object credentials,\n\t\t\tCollection<? extends GrantedAuthority> authorities) {\n\t\tsuper(authorities);\n\t\tthis.principal = principal;\n\t\tthis.credentials = credentials;\n\t\tsuper.setAuthenticated(true); // must use super, as we override\n\t}\n}\n\n\npublic abstract class AbstractAuthenticationToken implements Authentication, CredentialsContainer {\n}\n```\n\n### AuthenticationProvider\n\nAuthenticationProvider에서는 실제 인증에 대한 부분을 처리하는데, 인증 전의 Authentication객체를 받아서 인증이 완료된 객체를 반환하는 역할을 한다. 아래와 같은 AuthenticationProvider 인터페이스를 구현해서 Custom한 AuthenticationProvider을 작성해서 AuthenticationManager에 등록하면 된다.\n\n```java\npublic interface AuthenticationProvider {\n\n\t// 인증 전의 Authenticaion 객체를 받아서 인증된 Authentication 객체를 반환\n    Authentication authenticate(Authentication var1) throws AuthenticationException;\n\n    boolean supports(Class<?> var1);\n\n}\n```\n\n### Authenticatoin Manager\n\n인증에 대한 부분은 SpringSecurity의 AuthenticatonManager를 통해서 처리하게 되는데, 실질적으로는 AuthenticationManager에 등록된 AuthenticationProvider에 의해 처리된다. 인증이 성공하면 2번째 생성자를 이용해 인증이 성공한(isAuthenticated=true) 객체를 생성하여 Security Context에 저장한다. 그리고 인증 상태를 유지하기 위해 세션에 보관하며, 인증이 실패한 경우에는 AuthenticationException를 발생시킨다.\n\n```java\npublic interface AuthenticationManager {\n\tAuthentication authenticate(Authentication authentication)\n\t\tthrows AuthenticationException;\n}\n```\n\nAuthenticationManager를 implements한 ProviderManager는 실제 인증 과정에 대한 로직을 가지고 있는 AuthenticaionProvider를 List로 가지고 있으며, ProividerManager는 for문을 통해 모든 provider를 조회하면서 authenticate 처리를 한다.\n\n```java\npublic class ProviderManager implements AuthenticationManager, MessageSourceAware,\nInitializingBean {\n    public List<AuthenticationProvider> getProviders() {\n\t\treturn providers;\n\t}\n    public Authentication authenticate(Authentication authentication)\n\t\t\tthrows AuthenticationException {\n\t\tClass<? extends Authentication> toTest = authentication.getClass();\n\t\tAuthenticationException lastException = null;\n\t\tAuthentication result = null;\n\t\tboolean debug = logger.isDebugEnabled();\n        //for문으로 모든 provider를 순회하여 처리하고 result가 나올 때까지 반복한다.\n\t\tfor (AuthenticationProvider provider : getProviders()) {\n            ....\n\t\t\ttry {\n\t\t\t\tresult = provider.authenticate(authentication);\n\n\t\t\t\tif (result != null) {\n\t\t\t\t\tcopyDetails(authentication, result);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (AccountStatusException e) {\n\t\t\t\tprepareException(e, authentication);\n\t\t\t\t// SEC-546: Avoid polling additional providers if auth failure is due to\n\t\t\t\t// invalid account status\n\t\t\t\tthrow e;\n\t\t\t}\n            ....\n\t\t}\n\t\tthrow lastException;\n\t}\n}\n```\n\n위에서 설명한 ProviderManager에 우리가 직접 구현한 CustomAuthenticationProvider를 등록하는 방법은 WebSecurityConfigurerAdapter를 상속해 만든 SecurityConfig에서 할 수 있다. WebSecurityConfigurerAdapter의 상위 클래스에서는 AuthenticationManager를 가지고 있기 때문에 우리가 직접 만든 CustomAuthenticationProvider를 등록할 수 있다.\n\n```java\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Bean\n    public AuthenticationManager getAuthenticationManager() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Bean\n    public CustomAuthenticationProvider customAuthenticationProvider() throws Exception {\n        return new CustomAuthenticationProvider();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(customAuthenticationProvider());\n    }\n}\n```\n\n### UserDetails\n\n인증에 성공하여 생성된 UserDetails 객체는 Authentication객체를 구현한 UsernamePasswordAuthenticationToken을 생성하기 위해 사용된다. UserDetails 인터페이스를 살펴보면 아래와 같이 정보를 반환하는 메소드를 가지고 있다. UserDetails 인터페이스의 경우 직접 개발한 UserVO 모델에 UserDetails를 implements하여 이를 처리하거나 UserDetailsVO에 UserDetails를 implements하여 처리할 수 있다.\n\n```java\npublic interface UserDetails extends Serializable {\n\n    Collection<? extends GrantedAuthority> getAuthorities();\n\n    String getPassword();\n\n    String getUsername();\n\n    boolean isAccountNonExpired();\n\n    boolean isAccountNonLocked();\n\n    boolean isCredentialsNonExpired();\n\n    boolean isEnabled();\n\n}\n```\n\n### UserDetailsService\n\nUserDetailsService 인터페이스는 UserDetails 객체를 반환하는 단 하나의 메소드를 가지고 있는데, 일반적으로 이를 구현한 클래스의 내부에 UserRepository를 주입받아 DB와 연결하여 처리한다. UserDetails 인터페이스는 아래와 같다.\n\n```java\npublic interface UserDetailsService {\n\n    UserDetails loadUserByUsername(String var1) throws UsernameNotFoundException;\n\n}\n```\n\n### Password Encoding\n\nAuthenticationManagerBuilder.userDetailsService().passwordEncoder() 를 통해 패스워드 암호화에 사용될 PasswordEncoder 구현체를 지정할 수 있다.\n\n```java\n@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n\t// TODO Auto-generated method stub\n\tauth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n}\n\n@Bean\npublic PasswordEncoder passwordEncoder(){\n\treturn new BCryptPasswordEncoder();\n}\n```\n\n### Granted Authority\n\nGrantAuthority는 현재 사용자(principal)가 가지고 있는 권한을 의미한다. ROLE*ADMIN나 ROLE_USER와 같이 ROLE*\\*의 형태로 사용하며, 보통 \"roles\" 이라고 한다. GrantedAuthority 객체는 UserDetailsService에 의해 불러올 수 있고, 특정 자원에 대한 권한이 있는지를 검사하여 접근 허용 여부를 결정한다.\n\n## 시큐리티의 주요 필터\n\n### `SecurityContextPersistenseFilter`\n\n- SecurityContextRepository를 통해 SecurityContext를 Load/Save 처리\n\n### `LogoutFilter`\n\n- 로그아웃 URL(기본값: /logout)로의 요청을 감시하여 해당 사용자를 로그아웃 시킴\n\n### `UsernamePasswordAuthenticationFilter`\n\n- ID/PW 기반 Form 인증 요청 URL(기본값: /login)을 감시하여 사용자를 인증함\n\n### `ExceptionTransiationFilter`\n\n- 요청을 처리하는 중에 발생할 수 있는 예외를 위임하거나 전달\n\n### `FilterSecurityInterceptor`\n\n- 접근 권한 확인을 위해 요청을 AccessDecisionManager로 위임. 이 필터가 실행되는 시점에는 사용자가 인증됐다고 판단\n\n```java\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n        .cors() // CORS 설정 활성화\n    .and()\n        .sessionManagement() // 세션 관리 설정\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS) // 세션 생성 정책을 Stateless로 설정\n    .and()\n        .csrf().disable() // CSRF 방지 기능 비활성화\n        .formLogin().disable() // 폼 로그인 기능 비활성화\n        .httpBasic().disable() // 기본 HTTP 인증 기능 비활성화\n        .exceptionHandling() // 예외 처리 설정\n        .authenticationEntryPoint(new RestAuthenticationEntryPoint()) // 사용자 정의 인증 진입점 설정\n        .accessDeniedHandler(tokenAccessDeniedHandler) // 사용자 정의 접근 거부 핸들러 설정\n    .and()\n        .authorizeRequests() // 요청 인증 설정\n        .requestMatchers(CorsUtils::isPreFlightRequest).permitAll() // CORS 전처리 요청에 대해 인증을 허용\n        .antMatchers(\"/api/**\").hasAnyAuthority(RoleType.USER.getCode()) // \"/api/**\" 패턴의 URL에 USER 권한이 있는 경우 접근 허용\n        .antMatchers(\"/api/**/admin/**\").hasAnyAuthority(RoleType.ADMIN.getCode()) // \"/api/**/admin/**\" 패턴의 URL에 ADMIN 권한이 있는 경우 접근 허용\n        .anyRequest().authenticated() // 나머지 요청은 모두 인증 받은 사용자만 접근 가능\n    .and()\n        .oauth2Login() // OAuth2 로그인 설정\n        .authorizationEndpoint()\n        .baseUri(\"/oauth2/authorization\") // 인증 엔드포인트 기본 URI 설정\n        .authorizationRequestRepository(oAuth2AuthorizationRequestBasedOnCookieRepository()) // 사용자 정의 인증 요청 저장소 설정\n    .and()\n        .redirectionEndpoint() // 리다이렉션 엔드포인트 설정\n        .baseUri(\"/*/oauth2/code/*\") // 리다이렉션이 발생하는 기본 URI 설정\n    .and()\n        .userInfoEndpoint() // 사용자 정보 엔드포인트 설정\n        .userService(oAuth2UserService) // 사용자 정보 서비스 설정\n    .and()\n        .successHandler(oAuth2AuthenticationSuccessHandler()) // OAuth2 인증 성공 핸들러 설정\n        .failureHandler(oAuth2AuthenticationFailureHandler()); // OAuth2 인증 실패 핸들러 설정\n\n    http.addFilterBefore(tokenAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class); // 사용자 정의 필터를 필터 체인에 추가\n}\n```\n\n**출처**\n\n[[10분 테코톡] 🐻작은곰의 Spring Security](https://youtu.be/aEk-7RjBKwQ)\n\n[Spring Security란?](https://mangkyu.tistory.com/76)\n\n[Spring Security 처리 과정 및 구현 예제](https://mangkyu.tistory.com/77)\n",
    "code": "var Component=(()=>{var p=Object.create;var t=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty;var k=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),g=(a,n)=>{for(var s in n)t(a,s,{get:n[s],enumerable:!0})},i=(a,n,s,l)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of u(n))!N.call(a,c)&&c!==s&&t(a,c,{get:()=>n[c],enumerable:!(l=h(n,c))||l.enumerable});return a};var y=(a,n,s)=>(s=a!=null?p(m(a)):{},i(n||!a||!a.__esModule?t(s,\"default\",{value:a,enumerable:!0}):s,a)),f=a=>i(t({},\"__esModule\",{value:!0}),a);var r=k((S,o)=>{o.exports=_jsx_runtime});var v={};g(v,{default:()=>b,frontmatter:()=>w});var e=y(r()),w={title:\"[ Spring Sequrity ] \\uC2A4\\uD504\\uB9C1 \\uC2DC\\uD050\\uB9AC\\uD2F0(Spring security) \\uC815\\uB9AC\",date:\"2023-06-28\",tags:[\"spring\",\"spring_security\"],draft:!1,summary:\"\\uC2A4\\uD504\\uB9C1 \\uC2DC\\uD050\\uB9AC\\uD2F0 \\uB2E4\\uC2DC \\uBCF4\\uAE30\"};function d(a){let n=Object.assign({h2:\"h2\",a:\"a\",span:\"span\",p:\"p\",ol:\"ol\",li:\"li\",code:\"code\",h3:\"h3\",pre:\"pre\",em:\"em\",ul:\"ul\",strong:\"strong\"},a.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h2,{id:\"\\uAE30\\uBCF8-\\uAC1C\\uB150\",children:[(0,e.jsx)(n.a,{href:\"#\\uAE30\\uBCF8-\\uAC1C\\uB150\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uAE30\\uBCF8 \\uAC1C\\uB150\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.a,{href:\"/blog/java/spring-security/%EC%9D%B8%EC%A6%9D%EA%B3%BC_%EC%9D%B8%EA%B0%80\",children:\"\\uC778\\uC99D\\uACFC \\uC778\\uAC00\"})}),(0,e.jsxs)(n.h2,{id:\"spring-security\\uB780\",children:[(0,e.jsx)(n.a,{href:\"#spring-security\\uB780\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Spring Security\\uB780?\"]}),(0,e.jsx)(n.p,{children:\"Spring Security\\uB294 Spring \\uAE30\\uBC18\\uC758 \\uC560\\uD50C\\uB9AC\\uCF00\\uC774\\uC158\\uC758 \\uBCF4\\uC548(\\uC778\\uC99D\\uACFC \\uAD8C\\uD55C, \\uC778\\uAC00 \\uB4F1)\\uC744 \\uB2F4\\uB2F9\\uD558\\uB294 \\uC2A4\\uD504\\uB9C1 \\uD558\\uC704 \\uD504\\uB808\\uC784\\uC6CC\\uD06C\\uC774\\uB2E4. Spring Security\\uB294 '\\uC778\\uC99D'\\uACFC '\\uAD8C\\uD55C'\\uC5D0 \\uB300\\uD55C \\uBD80\\uBD84\\uC744 Filter \\uD750\\uB984\\uC5D0 \\uB530\\uB77C \\uCC98\\uB9AC\\uD558\\uACE0 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"Filter\\uB294 Dispatcher Servlet\\uC73C\\uB85C \\uAC00\\uAE30 \\uC804\\uC5D0 \\uC801\\uC6A9\\uB418\\uBBC0\\uB85C \\uAC00\\uC7A5 \\uBA3C\\uC800 URL \\uC694\\uCCAD\\uC744 \\uBC1B\\uC9C0\\uB9CC, Interceptor\\uB294 Dispatcher\\uC640 Controller\\uC0AC\\uC774\\uC5D0 \\uC704\\uCE58\\uD55C\\uB2E4\\uB294 \\uC810\\uC5D0\\uC11C \\uC801\\uC6A9 \\uC2DC\\uAE30\\uC758 \\uCC28\\uC774\\uAC00 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"Spring Security\\uB294 \\uBCF4\\uC548\\uACFC \\uAD00\\uB828\\uD574\\uC11C \\uCCB4\\uACC4\\uC801\\uC73C\\uB85C \\uB9CE\\uC740 \\uC635\\uC158\\uC744 \\uC81C\\uACF5\\uD574\\uC8FC\\uAE30 \\uB54C\\uBB38\\uC5D0 \\uAC1C\\uBC1C\\uC790 \\uC785\\uC7A5\\uC5D0\\uC11C\\uB294 \\uC77C\\uC77C\\uC774 \\uBCF4\\uC548\\uAD00\\uB828 \\uB85C\\uC9C1\\uC744 \\uC791\\uC131\\uD558\\uC9C0 \\uC54A\\uC544\\uB3C4 \\uB41C\\uB2E4\\uB294 \\uC7A5\\uC810\\uC774 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uC774\\uB7EC\\uD55C Spring Security\\uC758 \\uC544\\uD0A4\\uD14D\\uCCD0\\uB294 \\uC544\\uB798\\uC640 \\uAC19\\uB2E4.\"}),(0,e.jsxs)(n.h2,{id:\"\\uC2A4\\uD504\\uB9C1-\\uC2DC\\uD050\\uB9AC\\uD2F0\\uC758-\\uD2B9\\uC9D5\",children:[(0,e.jsx)(n.a,{href:\"#\\uC2A4\\uD504\\uB9C1-\\uC2DC\\uD050\\uB9AC\\uD2F0\\uC758-\\uD2B9\\uC9D5\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uC2A4\\uD504\\uB9C1 \\uC2DC\\uD050\\uB9AC\\uD2F0\\uC758 \\uD2B9\\uC9D5\"]}),(0,e.jsxs)(n.ol,{children:[(0,e.jsx)(n.li,{children:\"\\uC11C\\uBE14\\uB9BF API \\uD1B5\\uD569\"}),(0,e.jsx)(n.li,{children:\"Spring Web MVC\\uC640\\uC758 \\uC120\\uD0DD\\uC801 \\uD1B5\\uD569\"}),(0,e.jsx)(n.li,{children:\"\\uC778\\uC99D\\uACFC \\uAD8C\\uD55C \\uBD80\\uC5EC\\uB97C \\uBAA8\\uB450 \\uD3EC\\uAD04\\uC801\\uC774\\uACE0 \\uD655\\uC7A5 \\uAC00\\uB2A5\\uD55C \\uC9C0\\uC6D0\"}),(0,e.jsx)(n.li,{children:\"\\uC138\\uC158 \\uACE0\\uC815, clickjacking, \\uC0AC\\uC774\\uD2B8 \\uAC04 \\uC694\\uCCAD \\uC704\\uC870 \\uB4F1\\uACFC \\uAC19\\uC740 \\uACF5\\uACA9\\uC73C\\uB85C\\uBD80\\uD130 \\uBCF4\\uD638\"})]}),(0,e.jsxs)(n.h2,{id:\"\\uC2A4\\uD504\\uB9C1-\\uC2DC\\uD050\\uB9AC\\uD2F0\\uAC00-\\uC694\\uCCAD\\uC744-\\uCC98\\uB9AC\\uD558\\uB294-\\uBC29\\uC2DD\",children:[(0,e.jsx)(n.a,{href:\"#\\uC2A4\\uD504\\uB9C1-\\uC2DC\\uD050\\uB9AC\\uD2F0\\uAC00-\\uC694\\uCCAD\\uC744-\\uCC98\\uB9AC\\uD558\\uB294-\\uBC29\\uC2DD\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uC2A4\\uD504\\uB9C1 \\uC2DC\\uD050\\uB9AC\\uD2F0\\uAC00 \\uC694\\uCCAD\\uC744 \\uCC98\\uB9AC\\uD558\\uB294 \\uBC29\\uC2DD\"]}),(0,e.jsx)(\"p\",{align:\"center\",children:(0,e.jsx)(\"img\",{alt:\"image\",width:\"600\",src:\"https://github.com/speculatingwook/blog-full-of-desire/assets/105579811/a8a0c6aa-700d-48f8-b617-e97167219e45\"})}),(0,e.jsx)(n.p,{children:\"\\uC2A4\\uD504\\uB9C1 \\uC2DC\\uD050\\uB9AC\\uD2F0\\uB294 \\uC11C\\uBE14\\uB9BF \\uD544\\uD130\\uCCB4\\uC778\\uC744 \\uC790\\uB3D9\\uC73C\\uB85C \\uAD6C\\uC131\\uD558\\uACE0 \\uC694\\uCCAD\\uC744 \\uAC70\\uCE58\\uAC8C \\uD55C\\uB2E4.\"}),(0,e.jsx)(\"p\",{align:\"center\",children:(0,e.jsx)(\"img\",{width:\"882\",alt:\"image\",src:\"https://user-images.githubusercontent.com/105579811/236806863-291c52fc-7810-4b4d-9573-6371cb1b8dc3.png\"})}),(0,e.jsxs)(n.ol,{children:[(0,e.jsxs)(n.li,{children:[\"\\uC720\\uC800 \\uB85C\\uADF8\\uC778 \\uC2DC\\uB3C4 -->\",(0,e.jsx)(n.code,{children:\"AuthenticationFilter\"}),\"\\uAC00 \",(0,e.jsx)(n.code,{children:\"Http servlet Request\"}),\"\\uC5D0\\uC11C \\uC0AC\\uC6A9\\uC790\\uAC00 \\uBCF4\\uB0B8 \\uC815\\uBCF4\\uB97C intercept\\uD55C\\uB2E4.\"]}),(0,e.jsxs)(n.li,{children:[\"\\uC778\\uC99D\\uC6A9 \\uAC1D\\uCCB4\\uC778 \",(0,e.jsx)(n.code,{children:\"UsernamePasswordAuthenticationToken\"}),\"\\uC744 \\uC0DD\\uC131\\uD55C\\uB2E4.\"]}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"UsernamePasswordAuthenticationToken\"}),\"\\uC744 \",(0,e.jsx)(n.code,{children:\"AuthenticationManager interface\"}),\"\\uC5D0 \\uC704\\uC784\\uC744 \\uD558\\uAC8C \\uB41C\\uB2E4. \\uB9CC\\uC57D \\uC131\\uACF5\\uD55C\\uB2E4\\uBA74 \",(0,e.jsx)(n.code,{children:\"Authentication\"}),\" \\uAC1D\\uCCB4\\uB97C \\uBC18\\uD658\\uD55C\\uB2E4.\"]}),(0,e.jsxs)(n.li,{children:[\"\\uBC18\\uD658\\uD55C \",(0,e.jsx)(n.code,{children:\"Authentication\"}),\" \\uAC1D\\uCCB4\\uB97C \",(0,e.jsx)(n.code,{children:\"AuthenticationProvider\"}),\"\\uC5D0\\uAC8C \\uC804\\uB2EC\\uD55C\\uB2E4.\"]}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"Authentication\"}),\" \\uAC1D\\uCCB4\\uB97C \",(0,e.jsx)(n.code,{children:\"UserDetailsService\"}),\"\\uC5D0 \\uC804\\uB2EC\\uD55C\\uB2E4.\"]}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"UserDetailsService\"}),\"\\uB294 \\uB9CC\\uC57D \",(0,e.jsx)(n.code,{children:\"Authentication\"}),\"\\uC744 \\uAC00\\uC9C0\\uB85C DB\\uC5D0 \\uC788\\uB294 User\\uC784\\uC744 \\uD558\\uAC8C \\uB41C\\uB2E4\\uBA74, \",(0,e.jsx)(n.code,{children:\"UserDetails\"}),\"\\uC5D0\\uC11C \",(0,e.jsx)(n.code,{children:\"User\"}),\"\\uB97C \\uAEBC\\uB0B4\\uC11C \\uC720\\uC800 \\uC138\\uC158\\uC744 \\uC0DD\\uC131\\uD558\\uAC8C \\uB41C\\uB2E4.\"]}),(0,e.jsxs)(n.li,{children:[\"\\uAC00\\uC838\\uC628 \",(0,e.jsx)(n.code,{children:\"UserDetails\"}),\"\\uB97C Spring Sequrity\\uC758 \\uC778\\uBA54\\uBAA8\\uB9AC \\uC138\\uC158 \\uC800\\uC7A5\\uC18C\\uC778 \",(0,e.jsx)(n.code,{children:\"SecurityContextHolder\"}),\"\\uC5D0 \\uC800\\uC7A5\\uC744 \\uD55C\\uB2E4.\"]}),(0,e.jsx)(n.li,{children:\"\\uC774\\uD6C4, \\uC720\\uC800 \\uC138\\uC158ID\\uC640 \\uD568\\uAED8 \\uC751\\uB2F5\\uC744 \\uBCF4\\uB0B4\\uAC8C \\uB41C\\uB2E4.\"})]}),(0,e.jsxs)(n.h3,{id:\"autenticationmanager\\uC758-\\uAD6C\\uC870\",children:[(0,e.jsx)(n.a,{href:\"#autenticationmanager\\uC758-\\uAD6C\\uC870\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(n.code,{children:\"AutenticationManager\"}),\"\\uC758 \\uAD6C\\uC870\"]}),(0,e.jsx)(\"p\",{align:\"center\",children:(0,e.jsx)(\"img\",{alt:\"image\",width:\"600\",src:\"https://github.com/speculatingwook/blog-full-of-desire/assets/105579811/6581065e-c03d-45c3-af42-f527f4ed9c87\"})}),(0,e.jsxs)(n.h3,{id:\"security-context-holder\",children:[(0,e.jsx)(n.a,{href:\"#security-context-holder\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Security Context Holder\"]}),(0,e.jsxs)(n.p,{children:[\"SecurityContextHolder\\uB294 \\uBCF4\\uC548 \\uC8FC\\uCCB4\\uC758 \\uC138\\uBD80 \\uC815\\uBCF4\\uB97C \\uD3EC\\uD568\\uD558\\uC5EC \\uC751\\uC6A9\\uD504\\uB798\\uADF8\\uB7A8\\uC758 \\uD604\\uC7AC \\uBCF4\\uC548 \\uCEE8\\uD14D\\uC2A4\\uD2B8\\uC5D0 \\uB300\\uD55C \\uC138\\uBD80 \\uC815\\uBCF4\\uAC00 \\uC800\\uC7A5\\uB41C\\uB2E4. \",(0,e.jsx)(n.code,{children:\"SecurityContextHolder\\uB294 \\uAE30\\uBCF8\\uC801\\uC73C\\uB85C SecurityContextHolder.MODE_INHERITABLETHREADLOCAL\"}),\" \\uBC29\\uBC95\\uACFC \",(0,e.jsx)(n.code,{children:\"SecurityContextHolder.MODE_THREADLOCAL\"}),\" \\uBC29\\uBC95\\uC744 \\uC81C\\uACF5\\uD55C\\uB2E4.\"]}),(0,e.jsxs)(n.h3,{id:\"security-context\",children:[(0,e.jsx)(n.a,{href:\"#security-context\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Security Context\"]}),(0,e.jsx)(n.p,{children:\"Authentication\\uC744 \\uBCF4\\uAD00\\uD558\\uB294 \\uC5ED\\uD560\\uC744 \\uD558\\uBA70, SecurityContext\\uB97C \\uD1B5\\uD574 Authentication \\uAC1D\\uCCB4\\uB97C \\uAEBC\\uB0B4\\uC62C \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsxs)(n.h3,{id:\"authentication\",children:[(0,e.jsx)(n.a,{href:\"#authentication\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Authentication\"]}),(0,e.jsx)(n.p,{children:\"Authentication\\uB294 \\uD604\\uC7AC \\uC811\\uADFC\\uD558\\uB294 \\uC8FC\\uCCB4\\uC758 \\uC815\\uBCF4\\uC640 \\uAD8C\\uD55C\\uC744 \\uB2F4\\uB294 \\uC778\\uD130\\uD398\\uC774\\uC2A4\\uC774\\uB2E4. Authentication \\uAC1D\\uCCB4\\uB294 Security Context\\uC5D0 \\uC800\\uC7A5\\uB418\\uBA70, SecurityContextHolder\\uB97C \\uD1B5\\uD574 SecurityContext\\uC5D0 \\uC811\\uADFC\\uD558\\uACE0, SecurityContext\\uB97C \\uD1B5\\uD574 Authentication\\uC5D0 \\uC811\\uADFC\\uD560 \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-java\",children:(0,e.jsxs)(n.code,{className:\"language-java code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"interface\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Authentication\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Principal\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Serializable\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uD604\\uC7AC \\uC0AC\\uC6A9\\uC790\\uC758 \\uAD8C\\uD55C \\uBAA9\\uB85D\\uC744 \\uAC00\\uC838\\uC634\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Collection\"}),(0,e.jsxs)(n.span,{className:\"token generics\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"GrantedAuthority\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\">\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"getAuthorities\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// credentials(\\uC8FC\\uB85C \\uBE44\\uBC00\\uBC88\\uD638)\\uC744 \\uAC00\\uC838\\uC634\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Object\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"getCredentials\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Object\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"getDetails\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// Principal \\uAC1D\\uCCB4\\uB97C \\uAC00\\uC838\\uC634.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Object\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"getPrincipal\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC778\\uC99D \\uC5EC\\uBD80\\uB97C \\uAC00\\uC838\\uC634\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"boolean\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"isAuthenticated\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC778\\uC99D \\uC5EC\\uBD80\\uB97C \\uC124\\uC815\\uD568\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"setAuthenticated\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"boolean\"}),\" isAuthenticated\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"throws\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"IllegalArgumentException\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"usernameauthenticationtoken\",children:[(0,e.jsx)(n.a,{href:\"#usernameauthenticationtoken\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"UserNameAuthenticationToken\"]}),(0,e.jsx)(n.p,{children:\"UsernamePasswordAuthenticationToken\\uC740 Authentication\\uC744 implements\\uD55C AbstractAuthenticationToken\\uC758 \\uD558\\uC704 \\uD074\\uB798\\uC2A4\\uB85C, User\\uC758 ID\\uAC00 Principal \\uC5ED\\uD560\\uC744 \\uD558\\uACE0, Password\\uAC00 Credential\\uC758 \\uC5ED\\uD560\\uC744 \\uD55C\\uB2E4. UsernamePasswordAuthenticationToken\\uC758 \\uCCAB \\uBC88\\uC9F8 \\uC0DD\\uC131\\uC790\\uB294 \\uC778\\uC99D \\uC804\\uC758 \\uAC1D\\uCCB4\\uB97C \\uC0DD\\uC131\\uD558\\uACE0, \\uB450\\uBC88\\uC9F8 \\uC0DD\\uC131\\uC790\\uB294 \\uC778\\uC99D\\uC774 \\uC644\\uB8CC\\uB41C \\uAC1D\\uCCB4\\uB97C \\uC0DD\\uC131\\uD55C\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-java\",children:(0,e.jsxs)(n.code,{className:\"language-java code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"UsernamePasswordAuthenticationToken\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"AbstractAuthenticationToken\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC8FC\\uB85C \\uC0AC\\uC6A9\\uC790\\uC758 ID\\uC5D0 \\uD574\\uB2F9\\uD568\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"private\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"final\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Object\"}),\" principal\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC8FC\\uB85C \\uC0AC\\uC6A9\\uC790\\uC758 PW\\uC5D0 \\uD574\\uB2F9\\uD568\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"private\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Object\"}),\" credentials\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC778\\uC99D \\uC644\\uB8CC \\uC804\\uC758 \\uAC1D\\uCCB4 \\uC0DD\\uC131\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"UsernamePasswordAuthenticationToken\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Object\"}),\" principal\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Object\"}),\" credentials\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"super\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"null\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"principal \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" principal\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"credentials \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" credentials\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token function\",children:\"setAuthenticated\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC778\\uC99D \\uC644\\uB8CC \\uD6C4\\uC758 \\uAC1D\\uCCB4 \\uC0DD\\uC131\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"UsernamePasswordAuthenticationToken\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Object\"}),\" principal\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Object\"}),\" credentials\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\t\",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Collection\"}),(0,e.jsxs)(n.span,{className:\"token generics\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"GrantedAuthority\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\">\"})]}),\" authorities\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"super\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"authorities\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"principal \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" principal\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"credentials \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" credentials\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"super\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"setAuthenticated\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// must use super, as we override\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"abstract\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"AbstractAuthenticationToken\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"implements\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Authentication\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"CredentialsContainer\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"authenticationprovider\",children:[(0,e.jsx)(n.a,{href:\"#authenticationprovider\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"AuthenticationProvider\"]}),(0,e.jsx)(n.p,{children:\"AuthenticationProvider\\uC5D0\\uC11C\\uB294 \\uC2E4\\uC81C \\uC778\\uC99D\\uC5D0 \\uB300\\uD55C \\uBD80\\uBD84\\uC744 \\uCC98\\uB9AC\\uD558\\uB294\\uB370, \\uC778\\uC99D \\uC804\\uC758 Authentication\\uAC1D\\uCCB4\\uB97C \\uBC1B\\uC544\\uC11C \\uC778\\uC99D\\uC774 \\uC644\\uB8CC\\uB41C \\uAC1D\\uCCB4\\uB97C \\uBC18\\uD658\\uD558\\uB294 \\uC5ED\\uD560\\uC744 \\uD55C\\uB2E4. \\uC544\\uB798\\uC640 \\uAC19\\uC740 AuthenticationProvider \\uC778\\uD130\\uD398\\uC774\\uC2A4\\uB97C \\uAD6C\\uD604\\uD574\\uC11C Custom\\uD55C AuthenticationProvider\\uC744 \\uC791\\uC131\\uD574\\uC11C AuthenticationManager\\uC5D0 \\uB4F1\\uB85D\\uD558\\uBA74 \\uB41C\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-java\",children:(0,e.jsxs)(n.code,{className:\"language-java code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"interface\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"AuthenticationProvider\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC778\\uC99D \\uC804\\uC758 Authenticaion \\uAC1D\\uCCB4\\uB97C \\uBC1B\\uC544\\uC11C \\uC778\\uC99D\\uB41C Authentication \\uAC1D\\uCCB4\\uB97C \\uBC18\\uD658\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Authentication\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"authenticate\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Authentication\"}),\" var1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"throws\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"AuthenticationException\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"boolean\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"supports\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Class\"}),(0,e.jsxs)(n.span,{className:\"token generics\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\">\"})]}),\" var1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"authenticatoin-manager\",children:[(0,e.jsx)(n.a,{href:\"#authenticatoin-manager\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Authenticatoin Manager\"]}),(0,e.jsx)(n.p,{children:\"\\uC778\\uC99D\\uC5D0 \\uB300\\uD55C \\uBD80\\uBD84\\uC740 SpringSecurity\\uC758 AuthenticatonManager\\uB97C \\uD1B5\\uD574\\uC11C \\uCC98\\uB9AC\\uD558\\uAC8C \\uB418\\uB294\\uB370, \\uC2E4\\uC9C8\\uC801\\uC73C\\uB85C\\uB294 AuthenticationManager\\uC5D0 \\uB4F1\\uB85D\\uB41C AuthenticationProvider\\uC5D0 \\uC758\\uD574 \\uCC98\\uB9AC\\uB41C\\uB2E4. \\uC778\\uC99D\\uC774 \\uC131\\uACF5\\uD558\\uBA74 2\\uBC88\\uC9F8 \\uC0DD\\uC131\\uC790\\uB97C \\uC774\\uC6A9\\uD574 \\uC778\\uC99D\\uC774 \\uC131\\uACF5\\uD55C(isAuthenticated=true) \\uAC1D\\uCCB4\\uB97C \\uC0DD\\uC131\\uD558\\uC5EC Security Context\\uC5D0 \\uC800\\uC7A5\\uD55C\\uB2E4. \\uADF8\\uB9AC\\uACE0 \\uC778\\uC99D \\uC0C1\\uD0DC\\uB97C \\uC720\\uC9C0\\uD558\\uAE30 \\uC704\\uD574 \\uC138\\uC158\\uC5D0 \\uBCF4\\uAD00\\uD558\\uBA70, \\uC778\\uC99D\\uC774 \\uC2E4\\uD328\\uD55C \\uACBD\\uC6B0\\uC5D0\\uB294 AuthenticationException\\uB97C \\uBC1C\\uC0DD\\uC2DC\\uD0A8\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-java\",children:(0,e.jsxs)(n.code,{className:\"language-java code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"interface\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"AuthenticationManager\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Authentication\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"authenticate\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Authentication\"}),\" authentication\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"throws\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"AuthenticationException\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"AuthenticationManager\\uB97C implements\\uD55C ProviderManager\\uB294 \\uC2E4\\uC81C \\uC778\\uC99D \\uACFC\\uC815\\uC5D0 \\uB300\\uD55C \\uB85C\\uC9C1\\uC744 \\uAC00\\uC9C0\\uACE0 \\uC788\\uB294 AuthenticaionProvider\\uB97C List\\uB85C \\uAC00\\uC9C0\\uACE0 \\uC788\\uC73C\\uBA70, ProividerManager\\uB294 for\\uBB38\\uC744 \\uD1B5\\uD574 \\uBAA8\\uB4E0 provider\\uB97C \\uC870\\uD68C\\uD558\\uBA74\\uC11C authenticate \\uCC98\\uB9AC\\uB97C \\uD55C\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-java\",children:(0,e.jsxs)(n.code,{className:\"language-java code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"ProviderManager\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"implements\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"AuthenticationManager\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"MessageSourceAware\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token class-name\",children:\"InitializingBean\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"List\"}),(0,e.jsxs)(n.span,{className:\"token generics\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token class-name\",children:\"AuthenticationProvider\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\">\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"getProviders\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" providers\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Authentication\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"authenticate\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Authentication\"}),\" authentication\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"throws\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"AuthenticationException\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Class\"}),(0,e.jsxs)(n.span,{className:\"token generics\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Authentication\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\">\"})]}),\" toTest \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" authentication\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"getClass\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"AuthenticationException\"}),\" lastException \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"null\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Authentication\"}),\" result \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"null\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"boolean\"}),\" debug \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" logger\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"isDebugEnabled\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"//for\\uBB38\\uC73C\\uB85C \\uBAA8\\uB4E0 provider\\uB97C \\uC21C\\uD68C\\uD558\\uC5EC \\uCC98\\uB9AC\\uD558\\uACE0 result\\uAC00 \\uB098\\uC62C \\uB54C\\uAE4C\\uC9C0 \\uBC18\\uBCF5\\uD55C\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token class-name\",children:\"AuthenticationProvider\"}),\" provider \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"getProviders\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"try\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\t\tresult \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" provider\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"authenticate\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"authentication\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"result \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"null\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\t\t\t\",(0,e.jsx)(n.span,{className:\"token function\",children:\"copyDetails\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"authentication\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" result\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\t\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"break\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"catch\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token class-name\",children:\"AccountStatusException\"}),\" e\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,e.jsx)(n.span,{className:\"token function\",children:\"prepareException\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"e\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" authentication\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// SEC-546: Avoid polling additional providers if auth failure is due to\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// invalid account status\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"throw\"}),\" e\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"throw\"}),\" lastException\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uC704\\uC5D0\\uC11C \\uC124\\uBA85\\uD55C ProviderManager\\uC5D0 \\uC6B0\\uB9AC\\uAC00 \\uC9C1\\uC811 \\uAD6C\\uD604\\uD55C CustomAuthenticationProvider\\uB97C \\uB4F1\\uB85D\\uD558\\uB294 \\uBC29\\uBC95\\uC740 WebSecurityConfigurerAdapter\\uB97C \\uC0C1\\uC18D\\uD574 \\uB9CC\\uB4E0 SecurityConfig\\uC5D0\\uC11C \\uD560 \\uC218 \\uC788\\uB2E4. WebSecurityConfigurerAdapter\\uC758 \\uC0C1\\uC704 \\uD074\\uB798\\uC2A4\\uC5D0\\uC11C\\uB294 AuthenticationManager\\uB97C \\uAC00\\uC9C0\\uACE0 \\uC788\\uAE30 \\uB54C\\uBB38\\uC5D0 \\uC6B0\\uB9AC\\uAC00 \\uC9C1\\uC811 \\uB9CC\\uB4E0 CustomAuthenticationProvider\\uB97C \\uB4F1\\uB85D\\uD560 \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-java\",children:(0,e.jsxs)(n.code,{className:\"language-java code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation annotation\",children:\"@Configuration\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation annotation\",children:\"@EnableWebSecurity\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"SecurityConfig\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"WebSecurityConfigurerAdapter\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation annotation\",children:\"@Bean\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"AuthenticationManager\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"getAuthenticationManager\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"throws\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Exception\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"super\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"authenticationManagerBean\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation annotation\",children:\"@Bean\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"CustomAuthenticationProvider\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"customAuthenticationProvider\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"throws\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Exception\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"CustomAuthenticationProvider\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation annotation\",children:\"@Override\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"protected\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"configure\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token class-name\",children:\"AuthenticationManagerBuilder\"}),\" auth\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"throws\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Exception\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        auth\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"authenticationProvider\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"customAuthenticationProvider\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"userdetails\",children:[(0,e.jsx)(n.a,{href:\"#userdetails\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"UserDetails\"]}),(0,e.jsx)(n.p,{children:\"\\uC778\\uC99D\\uC5D0 \\uC131\\uACF5\\uD558\\uC5EC \\uC0DD\\uC131\\uB41C UserDetails \\uAC1D\\uCCB4\\uB294 Authentication\\uAC1D\\uCCB4\\uB97C \\uAD6C\\uD604\\uD55C UsernamePasswordAuthenticationToken\\uC744 \\uC0DD\\uC131\\uD558\\uAE30 \\uC704\\uD574 \\uC0AC\\uC6A9\\uB41C\\uB2E4. UserDetails \\uC778\\uD130\\uD398\\uC774\\uC2A4\\uB97C \\uC0B4\\uD3B4\\uBCF4\\uBA74 \\uC544\\uB798\\uC640 \\uAC19\\uC774 \\uC815\\uBCF4\\uB97C \\uBC18\\uD658\\uD558\\uB294 \\uBA54\\uC18C\\uB4DC\\uB97C \\uAC00\\uC9C0\\uACE0 \\uC788\\uB2E4. UserDetails \\uC778\\uD130\\uD398\\uC774\\uC2A4\\uC758 \\uACBD\\uC6B0 \\uC9C1\\uC811 \\uAC1C\\uBC1C\\uD55C UserVO \\uBAA8\\uB378\\uC5D0 UserDetails\\uB97C implements\\uD558\\uC5EC \\uC774\\uB97C \\uCC98\\uB9AC\\uD558\\uAC70\\uB098 UserDetailsVO\\uC5D0 UserDetails\\uB97C implements\\uD558\\uC5EC \\uCC98\\uB9AC\\uD560 \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-java\",children:(0,e.jsxs)(n.code,{className:\"language-java code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"interface\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"UserDetails\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Serializable\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Collection\"}),(0,e.jsxs)(n.span,{className:\"token generics\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"GrantedAuthority\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\">\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"getAuthorities\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"String\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"getPassword\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"String\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"getUsername\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"boolean\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"isAccountNonExpired\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"boolean\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"isAccountNonLocked\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"boolean\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"isCredentialsNonExpired\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"boolean\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"isEnabled\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"userdetailsservice\",children:[(0,e.jsx)(n.a,{href:\"#userdetailsservice\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"UserDetailsService\"]}),(0,e.jsx)(n.p,{children:\"UserDetailsService \\uC778\\uD130\\uD398\\uC774\\uC2A4\\uB294 UserDetails \\uAC1D\\uCCB4\\uB97C \\uBC18\\uD658\\uD558\\uB294 \\uB2E8 \\uD558\\uB098\\uC758 \\uBA54\\uC18C\\uB4DC\\uB97C \\uAC00\\uC9C0\\uACE0 \\uC788\\uB294\\uB370, \\uC77C\\uBC18\\uC801\\uC73C\\uB85C \\uC774\\uB97C \\uAD6C\\uD604\\uD55C \\uD074\\uB798\\uC2A4\\uC758 \\uB0B4\\uBD80\\uC5D0 UserRepository\\uB97C \\uC8FC\\uC785\\uBC1B\\uC544 DB\\uC640 \\uC5F0\\uACB0\\uD558\\uC5EC \\uCC98\\uB9AC\\uD55C\\uB2E4. UserDetails \\uC778\\uD130\\uD398\\uC774\\uC2A4\\uB294 \\uC544\\uB798\\uC640 \\uAC19\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-java\",children:(0,e.jsxs)(n.code,{className:\"language-java code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"interface\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"UserDetailsService\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"UserDetails\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"loadUserByUsername\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token class-name\",children:\"String\"}),\" var1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"throws\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"UsernameNotFoundException\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"password-encoding\",children:[(0,e.jsx)(n.a,{href:\"#password-encoding\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Password Encoding\"]}),(0,e.jsx)(n.p,{children:\"AuthenticationManagerBuilder.userDetailsService().passwordEncoder() \\uB97C \\uD1B5\\uD574 \\uD328\\uC2A4\\uC6CC\\uB4DC \\uC554\\uD638\\uD654\\uC5D0 \\uC0AC\\uC6A9\\uB420 PasswordEncoder \\uAD6C\\uD604\\uCCB4\\uB97C \\uC9C0\\uC815\\uD560 \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-java\",children:(0,e.jsxs)(n.code,{className:\"language-java code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation annotation\",children:\"@Override\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"protected\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"configure\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token class-name\",children:\"AuthenticationManagerBuilder\"}),\" auth\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"throws\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Exception\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// TODO Auto-generated method stub\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\tauth\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"userDetailsService\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"userDetailsService\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"passwordEncoder\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"passwordEncoder\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation annotation\",children:\"@Bean\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"PasswordEncoder\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"passwordEncoder\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\t\",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"BCryptPasswordEncoder\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"granted-authority\",children:[(0,e.jsx)(n.a,{href:\"#granted-authority\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Granted Authority\"]}),(0,e.jsxs)(n.p,{children:[\"GrantAuthority\\uB294 \\uD604\\uC7AC \\uC0AC\\uC6A9\\uC790(principal)\\uAC00 \\uAC00\\uC9C0\\uACE0 \\uC788\\uB294 \\uAD8C\\uD55C\\uC744 \\uC758\\uBBF8\\uD55C\\uB2E4. ROLE\",(0,e.jsx)(n.em,{children:\"ADMIN\\uB098 ROLE_USER\\uC640 \\uAC19\\uC774 ROLE\"}),'*\\uC758 \\uD615\\uD0DC\\uB85C \\uC0AC\\uC6A9\\uD558\\uBA70, \\uBCF4\\uD1B5 \"roles\" \\uC774\\uB77C\\uACE0 \\uD55C\\uB2E4. GrantedAuthority \\uAC1D\\uCCB4\\uB294 UserDetailsService\\uC5D0 \\uC758\\uD574 \\uBD88\\uB7EC\\uC62C \\uC218 \\uC788\\uACE0, \\uD2B9\\uC815 \\uC790\\uC6D0\\uC5D0 \\uB300\\uD55C \\uAD8C\\uD55C\\uC774 \\uC788\\uB294\\uC9C0\\uB97C \\uAC80\\uC0AC\\uD558\\uC5EC \\uC811\\uADFC \\uD5C8\\uC6A9 \\uC5EC\\uBD80\\uB97C \\uACB0\\uC815\\uD55C\\uB2E4.']}),(0,e.jsxs)(n.h2,{id:\"\\uC2DC\\uD050\\uB9AC\\uD2F0\\uC758-\\uC8FC\\uC694-\\uD544\\uD130\",children:[(0,e.jsx)(n.a,{href:\"#\\uC2DC\\uD050\\uB9AC\\uD2F0\\uC758-\\uC8FC\\uC694-\\uD544\\uD130\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uC2DC\\uD050\\uB9AC\\uD2F0\\uC758 \\uC8FC\\uC694 \\uD544\\uD130\"]}),(0,e.jsxs)(n.h3,{id:\"securitycontextpersistensefilter\",children:[(0,e.jsx)(n.a,{href:\"#securitycontextpersistensefilter\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(n.code,{children:\"SecurityContextPersistenseFilter\"})]}),(0,e.jsx)(n.ul,{children:(0,e.jsx)(n.li,{children:\"SecurityContextRepository\\uB97C \\uD1B5\\uD574 SecurityContext\\uB97C Load/Save \\uCC98\\uB9AC\"})}),(0,e.jsxs)(n.h3,{id:\"logoutfilter\",children:[(0,e.jsx)(n.a,{href:\"#logoutfilter\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(n.code,{children:\"LogoutFilter\"})]}),(0,e.jsx)(n.ul,{children:(0,e.jsx)(n.li,{children:\"\\uB85C\\uADF8\\uC544\\uC6C3 URL(\\uAE30\\uBCF8\\uAC12: /logout)\\uB85C\\uC758 \\uC694\\uCCAD\\uC744 \\uAC10\\uC2DC\\uD558\\uC5EC \\uD574\\uB2F9 \\uC0AC\\uC6A9\\uC790\\uB97C \\uB85C\\uADF8\\uC544\\uC6C3 \\uC2DC\\uD0B4\"})}),(0,e.jsxs)(n.h3,{id:\"usernamepasswordauthenticationfilter\",children:[(0,e.jsx)(n.a,{href:\"#usernamepasswordauthenticationfilter\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(n.code,{children:\"UsernamePasswordAuthenticationFilter\"})]}),(0,e.jsx)(n.ul,{children:(0,e.jsx)(n.li,{children:\"ID/PW \\uAE30\\uBC18 Form \\uC778\\uC99D \\uC694\\uCCAD URL(\\uAE30\\uBCF8\\uAC12: /login)\\uC744 \\uAC10\\uC2DC\\uD558\\uC5EC \\uC0AC\\uC6A9\\uC790\\uB97C \\uC778\\uC99D\\uD568\"})}),(0,e.jsxs)(n.h3,{id:\"exceptiontransiationfilter\",children:[(0,e.jsx)(n.a,{href:\"#exceptiontransiationfilter\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(n.code,{children:\"ExceptionTransiationFilter\"})]}),(0,e.jsx)(n.ul,{children:(0,e.jsx)(n.li,{children:\"\\uC694\\uCCAD\\uC744 \\uCC98\\uB9AC\\uD558\\uB294 \\uC911\\uC5D0 \\uBC1C\\uC0DD\\uD560 \\uC218 \\uC788\\uB294 \\uC608\\uC678\\uB97C \\uC704\\uC784\\uD558\\uAC70\\uB098 \\uC804\\uB2EC\"})}),(0,e.jsxs)(n.h3,{id:\"filtersecurityinterceptor\",children:[(0,e.jsx)(n.a,{href:\"#filtersecurityinterceptor\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(n.code,{children:\"FilterSecurityInterceptor\"})]}),(0,e.jsx)(n.ul,{children:(0,e.jsx)(n.li,{children:\"\\uC811\\uADFC \\uAD8C\\uD55C \\uD655\\uC778\\uC744 \\uC704\\uD574 \\uC694\\uCCAD\\uC744 AccessDecisionManager\\uB85C \\uC704\\uC784. \\uC774 \\uD544\\uD130\\uAC00 \\uC2E4\\uD589\\uB418\\uB294 \\uC2DC\\uC810\\uC5D0\\uB294 \\uC0AC\\uC6A9\\uC790\\uAC00 \\uC778\\uC99D\\uB410\\uB2E4\\uACE0 \\uD310\\uB2E8\"})}),(0,e.jsx)(n.pre,{className:\"language-java\",children:(0,e.jsxs)(n.code,{className:\"language-java code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation annotation\",children:\"@Override\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"protected\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"configure\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token class-name\",children:\"HttpSecurity\"}),\" http\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"throws\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Exception\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    http\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"cors\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// CORS \\uC124\\uC815 \\uD65C\\uC131\\uD654\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"and\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"sessionManagement\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC138\\uC158 \\uAD00\\uB9AC \\uC124\\uC815\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"sessionCreationPolicy\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token class-name\",children:\"SessionCreationPolicy\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"STATELESS\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC138\\uC158 \\uC0DD\\uC131 \\uC815\\uCC45\\uC744 Stateless\\uB85C \\uC124\\uC815\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"and\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"csrf\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"disable\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// CSRF \\uBC29\\uC9C0 \\uAE30\\uB2A5 \\uBE44\\uD65C\\uC131\\uD654\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"formLogin\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"disable\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uD3FC \\uB85C\\uADF8\\uC778 \\uAE30\\uB2A5 \\uBE44\\uD65C\\uC131\\uD654\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"httpBasic\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"disable\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uAE30\\uBCF8 HTTP \\uC778\\uC99D \\uAE30\\uB2A5 \\uBE44\\uD65C\\uC131\\uD654\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"exceptionHandling\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC608\\uC678 \\uCC98\\uB9AC \\uC124\\uC815\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"authenticationEntryPoint\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"RestAuthenticationEntryPoint\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC0AC\\uC6A9\\uC790 \\uC815\\uC758 \\uC778\\uC99D \\uC9C4\\uC785\\uC810 \\uC124\\uC815\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"accessDeniedHandler\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"tokenAccessDeniedHandler\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC0AC\\uC6A9\\uC790 \\uC815\\uC758 \\uC811\\uADFC \\uAC70\\uBD80 \\uD578\\uB4E4\\uB7EC \\uC124\\uC815\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"and\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"authorizeRequests\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC694\\uCCAD \\uC778\\uC99D \\uC124\\uC815\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"requestMatchers\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token class-name\",children:\"CorsUtils\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"::\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"isPreFlightRequest\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"permitAll\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// CORS \\uC804\\uCC98\\uB9AC \\uC694\\uCCAD\\uC5D0 \\uB300\\uD574 \\uC778\\uC99D\\uC744 \\uD5C8\\uC6A9\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"antMatchers\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"/api/**\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"hasAnyAuthority\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token class-name\",children:\"RoleType\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"USER\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"getCode\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:'// \"/api/**\" \\uD328\\uD134\\uC758 URL\\uC5D0 USER \\uAD8C\\uD55C\\uC774 \\uC788\\uB294 \\uACBD\\uC6B0 \\uC811\\uADFC \\uD5C8\\uC6A9'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"antMatchers\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"/api/**/admin/**\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"hasAnyAuthority\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token class-name\",children:\"RoleType\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"ADMIN\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"getCode\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:'// \"/api/**/admin/**\" \\uD328\\uD134\\uC758 URL\\uC5D0 ADMIN \\uAD8C\\uD55C\\uC774 \\uC788\\uB294 \\uACBD\\uC6B0 \\uC811\\uADFC \\uD5C8\\uC6A9'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"anyRequest\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"authenticated\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uB098\\uBA38\\uC9C0 \\uC694\\uCCAD\\uC740 \\uBAA8\\uB450 \\uC778\\uC99D \\uBC1B\\uC740 \\uC0AC\\uC6A9\\uC790\\uB9CC \\uC811\\uADFC \\uAC00\\uB2A5\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"and\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"oauth2Login\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// OAuth2 \\uB85C\\uADF8\\uC778 \\uC124\\uC815\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"authorizationEndpoint\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"baseUri\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"/oauth2/authorization\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC778\\uC99D \\uC5D4\\uB4DC\\uD3EC\\uC778\\uD2B8 \\uAE30\\uBCF8 URI \\uC124\\uC815\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"authorizationRequestRepository\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"oAuth2AuthorizationRequestBasedOnCookieRepository\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC0AC\\uC6A9\\uC790 \\uC815\\uC758 \\uC778\\uC99D \\uC694\\uCCAD \\uC800\\uC7A5\\uC18C \\uC124\\uC815\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"and\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"redirectionEndpoint\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uB9AC\\uB2E4\\uC774\\uB809\\uC158 \\uC5D4\\uB4DC\\uD3EC\\uC778\\uD2B8 \\uC124\\uC815\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"baseUri\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"/*/oauth2/code/*\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uB9AC\\uB2E4\\uC774\\uB809\\uC158\\uC774 \\uBC1C\\uC0DD\\uD558\\uB294 \\uAE30\\uBCF8 URI \\uC124\\uC815\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"and\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"userInfoEndpoint\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC0AC\\uC6A9\\uC790 \\uC815\\uBCF4 \\uC5D4\\uB4DC\\uD3EC\\uC778\\uD2B8 \\uC124\\uC815\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"userService\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"oAuth2UserService\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC0AC\\uC6A9\\uC790 \\uC815\\uBCF4 \\uC11C\\uBE44\\uC2A4 \\uC124\\uC815\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"and\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"successHandler\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"oAuth2AuthenticationSuccessHandler\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// OAuth2 \\uC778\\uC99D \\uC131\\uACF5 \\uD578\\uB4E4\\uB7EC \\uC124\\uC815\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"failureHandler\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"oAuth2AuthenticationFailureHandler\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// OAuth2 \\uC778\\uC99D \\uC2E4\\uD328 \\uD578\\uB4E4\\uB7EC \\uC124\\uC815\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    http\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"addFilterBefore\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"tokenAuthenticationFilter\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"UsernamePasswordAuthenticationFilter\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"class\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC0AC\\uC6A9\\uC790 \\uC815\\uC758 \\uD544\\uD130\\uB97C \\uD544\\uD130 \\uCCB4\\uC778\\uC5D0 \\uCD94\\uAC00\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"\\uCD9C\\uCC98\"})}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.a,{href:\"https://youtu.be/aEk-7RjBKwQ\",children:\"[10\\uBD84 \\uD14C\\uCF54\\uD1A1] \\u{1F43B}\\uC791\\uC740\\uACF0\\uC758 Spring Security\"})}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.a,{href:\"https://mangkyu.tistory.com/76\",children:\"Spring Security\\uB780?\"})}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.a,{href:\"https://mangkyu.tistory.com/77\",children:\"Spring Security \\uCC98\\uB9AC \\uACFC\\uC815 \\uBC0F \\uAD6C\\uD604 \\uC608\\uC81C\"})})]})}function A(a={}){let{wrapper:n}=a.components||{};return n?(0,e.jsx)(n,Object.assign({},a,{children:(0,e.jsx)(d,a)})):d(a)}var b=A;return f(v);})();\n;return Component;"
  },
  "_id": "blog/java/spring-security/스프링_시큐리티_우테코.mdx",
  "_raw": {
    "sourceFilePath": "blog/java/spring-security/스프링_시큐리티_우테코.mdx",
    "sourceFileName": "스프링_시큐리티_우테코.mdx",
    "sourceFileDir": "blog/java/spring-security",
    "contentType": "mdx",
    "flattenedPath": "blog/java/spring-security/스프링_시큐리티_우테코"
  },
  "type": "Blog",
  "readingTime": {
    "text": "12 min read",
    "minutes": 11.99,
    "time": 719400,
    "words": 2398
  },
  "slug": "java/spring-security/스프링_시큐리티_우테코",
  "path": "blog/java/spring-security/스프링_시큐리티_우테코",
  "filePath": "blog/java/spring-security/스프링_시큐리티_우테코.mdx",
  "toc": [
    {
      "value": "기본 개념",
      "url": "#기본-개념",
      "depth": 2
    },
    {
      "value": "Spring Security란?",
      "url": "#spring-security란",
      "depth": 2
    },
    {
      "value": "스프링 시큐리티의 특징",
      "url": "#스프링-시큐리티의-특징",
      "depth": 2
    },
    {
      "value": "스프링 시큐리티가 요청을 처리하는 방식",
      "url": "#스프링-시큐리티가-요청을-처리하는-방식",
      "depth": 2
    },
    {
      "value": "AutenticationManager의 구조",
      "url": "#autenticationmanager의-구조",
      "depth": 3
    },
    {
      "value": "Security Context Holder",
      "url": "#security-context-holder",
      "depth": 3
    },
    {
      "value": "Security Context",
      "url": "#security-context",
      "depth": 3
    },
    {
      "value": "Authentication",
      "url": "#authentication",
      "depth": 3
    },
    {
      "value": "UserNameAuthenticationToken",
      "url": "#usernameauthenticationtoken",
      "depth": 3
    },
    {
      "value": "AuthenticationProvider",
      "url": "#authenticationprovider",
      "depth": 3
    },
    {
      "value": "Authenticatoin Manager",
      "url": "#authenticatoin-manager",
      "depth": 3
    },
    {
      "value": "UserDetails",
      "url": "#userdetails",
      "depth": 3
    },
    {
      "value": "UserDetailsService",
      "url": "#userdetailsservice",
      "depth": 3
    },
    {
      "value": "Password Encoding",
      "url": "#password-encoding",
      "depth": 3
    },
    {
      "value": "Granted Authority",
      "url": "#granted-authority",
      "depth": 3
    },
    {
      "value": "시큐리티의 주요 필터",
      "url": "#시큐리티의-주요-필터",
      "depth": 2
    },
    {
      "value": "SecurityContextPersistenseFilter",
      "url": "#securitycontextpersistensefilter",
      "depth": 3
    },
    {
      "value": "LogoutFilter",
      "url": "#logoutfilter",
      "depth": 3
    },
    {
      "value": "UsernamePasswordAuthenticationFilter",
      "url": "#usernamepasswordauthenticationfilter",
      "depth": 3
    },
    {
      "value": "ExceptionTransiationFilter",
      "url": "#exceptiontransiationfilter",
      "depth": 3
    },
    {
      "value": "FilterSecurityInterceptor",
      "url": "#filtersecurityinterceptor",
      "depth": 3
    }
  ],
  "structuredData": {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "[ Spring Sequrity ] 스프링 시큐리티(Spring security) 정리",
    "datePublished": "2023-06-28T00:00:00.000Z",
    "dateModified": "2023-06-28T00:00:00.000Z",
    "description": "스프링 시큐리티 다시 보기",
    "image": "/static/images/rose.png",
    "url": "https://blog-full-of-desire.vercel.app//blog/java/spring-security/스프링_시큐리티_우테코"
  }
}
